<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        .play {
            background: aliceblue;
            width: 100vw;
            height: 100vh;
            position: relative;
        }

        body {
            margin: 0;
        }

        .ball {
            border: 1px solid #ffb1b1;
            width: 100px;
            height: 100px;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            border-radius: 50%;
            background: red;
        }
    </style>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
</head>

<body>
    <div class="play">
        <!--  <div class="ball"></div> -->
        <div id="curve_chart" style="width: 900px; height: 500px"></div>
    </div>
    <script>


        google.charts.load('current', { 'packages': ['corechart'] });
        google.charts.setOnLoadCallback(drawChart);
        var options = {
            title: 'Accelerometer',
            curveType: 'function',
            legend: { position: 'bottom' }
        };
        var chart = null;
        var data = [
            ['time', 'lean-Forward-Back', 'tilt-left-right'],
            [0, 0, 0]
        ];
        function drawChart() {
            chart = new google.visualization.LineChart(document.getElementById('curve_chart'));
            update();
        }
        function update() {
            chart.draw(google.visualization.arrayToDataTable(data), options);
        }

        let index = 0;
        //let ball = document.querySelector('.ball');
        window.addEventListener('deviceorientation', (event) => {
            index++;
            data.push([index, event.beta, event.gamma])
            if (index % 10 == 0) {
                update();
            }
            //    ball.style.left = (200 + (event.gamma)) + 'px';
            //ball.style.top = (200 + (event.beta)) + 'px'
        })
    </script>
</body>

</html>